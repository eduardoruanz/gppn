syntax = "proto3";
package gppn.v1;

// Trust attestation from one peer about another.
message TrustAttestation {
  string attester_did = 1;
  string subject_did = 2;
  double score = 3;           // -1.0 to 1.0
  string category = 4;        // e.g., "reliability", "speed", "compliance"
  uint64 timestamp = 5;       // Unix millis
  bytes signature = 6;        // Ed25519 signature
}

// Composite trust score for a node.
message TrustScore {
  string did = 1;
  double uptime = 2;              // 0.0 - 1.0
  double success_rate = 3;        // 0.0 - 1.0
  double avg_latency_ms = 4;
  uint64 volume_processed = 5;    // Atomic units processed
  uint32 node_age_days = 6;
  uint32 peer_attestation_count = 7;
  double composite_score = 8;     // Weighted combination (0.0 - 1.0)
  uint64 last_updated = 9;        // Unix millis
}

// Trust score weights â€” configurable.
message TrustWeights {
  double uptime_weight = 1;           // Default: 0.20
  double success_rate_weight = 2;     // Default: 0.25
  double latency_weight = 3;          // Default: 0.15
  double volume_weight = 4;           // Default: 0.15
  double age_weight = 5;              // Default: 0.10
  double attestation_weight = 6;      // Default: 0.15
}
